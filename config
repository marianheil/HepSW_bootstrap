#!/usr/bin/env bash

## general setup
export HEPSW_HOME=/mt/hepsw/el7/x86_64 # install destination
export WORKING_DIR=/scratch/${USER} # temporary working directory
export BASE_DIR=${PWD} # current directory saved for later use
export NUM_CORES=$(nproc --ignore=2 --all) # number of available CPUs

## README
mkdir -p ${HEPSW_HOME}
cp ../UserInfo/README.txt ${HEPSW_HOME}/README.txt
sed  -i -e "s HEPSW_HOME ${HEPSW_HOME} g" ${HEPSW_HOME}/README.txt

mkdir -p ${WORKING_DIR}

## boost
export HEPSW_BOOST_VERSION=1.70.0
export HEPSW_BOOST_NAME=boost
export HEPSW_BOOST_DIR=${HEPSW_HOME}/${HEPSW_BOOST_NAME}-${HEPSW_BOOST_VERSION}

## CLHEP
export HEPSW_CLHEP_VERSION=2.4.1.0
export HEPSW_CLHEP_NAME=CLHEP
export HEPSW_CLHEP_DIR=${HEPSW_HOME}/${HEPSW_CLHEP_NAME}-${HEPSW_CLHEP_VERSION}

## FastJet
export HEPSW_FASTJET_VERSION=3.3.2
export HEPSW_FASTJET_NAME=FastJet
export HEPSW_FASTJET_DIR=${HEPSW_HOME}/${HEPSW_FASTJET_NAME}-${HEPSW_FASTJET_VERSION}

## HepMC2
export HEPSW_HEPMC2_VERSION=2.06.09
export HEPSW_HEPMC2_NAME=HepMC2
export HEPSW_HEPMC2_DIR=${HEPSW_HOME}/${HEPSW_HEPMC2_NAME}-${HEPSW_HEPMC2_VERSION}

## LHAPDF
export HEPSW_LHAPDF_VERSION=6.2.3
export HEPSW_LHAPDF_NAME=LHAPDF
export HEPSW_LHAPDF_DIR=${HEPSW_HOME}/${HEPSW_LHAPDF_NAME}-${HEPSW_LHAPDF_VERSION}
export HEPSW_LHAPDF_PDF_SOURCE=http://www.hepforge.org/archive/lhapdf/pdfsets/6.2

## OpenLoops
export HEPSW_OPENLOOPS_VERSION=2
export HEPSW_OPENLOOPS_NAME=OpenLoops
export HEPSW_OPENLOOPS_DIR=${HEPSW_HOME}/${HEPSW_OPENLOOPS_NAME}-${HEPSW_OPENLOOPS_VERSION}

## QCDloop
export HEPSW_QCDLOOP_VERSION=2.0.4
export HEPSW_QCDLOOP_NAME=QCDloop
export HEPSW_QCDLOOP_DIR=${HEPSW_HOME}/${HEPSW_QCDLOOP_NAME}-${HEPSW_QCDLOOP_VERSION}

## root
export HEPSW_ROOT_VERSION=6.16.00
export HEPSW_ROOT_NAME=root
export HEPSW_ROOT_DIR=${HEPSW_HOME}/${HEPSW_ROOT_NAME}-${HEPSW_ROOT_VERSION}

## yaml-cpp
export HEPSW_YAML_VERSION=0.6.2
export HEPSW_YAML_NAME=yaml_cpp
export HEPSW_YAML_DIR=${HEPSW_HOME}/${HEPSW_YAML_NAME}-${HEPSW_YAML_VERSION}

## HepMC3
# depends on root
export HEPSW_HEPMC3_VERSION=3.1.2
export HEPSW_HEPMC3_NAME=HepMC3
export HEPSW_HEPMC3_DIR=${HEPSW_HOME}/${HEPSW_HEPMC3_NAME}-${HEPSW_HEPMC3_VERSION}

## rivet
# depends on FastJet & HepMC2
export HEPSW_RIVET_VERSION=2.7.0
export HEPSW_RIVET_NAME=rivet
export HEPSW_RIVET_DIR=${HEPSW_HOME}/${HEPSW_RIVET_NAME}-${HEPSW_RIVET_VERSION}

## HEJ
# depends on boost, CLHEP, FastJet, HepMC2, LHAPDF, QCDloop, yaml & rivet
export HEPSW_HEJ_VERSION=2.0.5
export HEPSW_HEJ_NAME=HEJ
export HEPSW_HEJ_DIR=${HEPSW_HOME}/${HEPSW_HEJ_NAME}-${HEPSW_HEJ_VERSION}

## Pythia
# depends on FastJet, HepMC2, LHAPDF & root
export HEPSW_PYTHIA_VERSION=8.240
export HEPSW_PYTHIA_NAME=Pythia
export HEPSW_PYTHIA_DIR=${HEPSW_HOME}/${HEPSW_PYTHIA_NAME}-${HEPSW_PYTHIA_VERSION}

## Sherpa
# depends on FastJet, HepMC2, LHAPDF, OpenLoops, root & rivet
export HEPSW_SHERPA_VERSION=2.2.7
export HEPSW_SHERPA_NAME=Sherpa
export HEPSW_SHERPA_DIR=${HEPSW_HOME}/${HEPSW_SHERPA_NAME}-${HEPSW_SHERPA_VERSION}
